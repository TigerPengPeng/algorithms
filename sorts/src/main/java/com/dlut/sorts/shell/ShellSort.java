package com.dlut.sorts.shell;

public class ShellSort {

     private ShellSort() {}

     public static void sort(int[] A) {
          int k = 0;
          int guard = 0;
          int dis = A.length;

          // pay attention: dis > 1 not dis >= 1
          while (dis > 1) {
               dis = dis / 3 + 1;
               // pay attention: i++ not i += dis
               for (int i = dis; i < A.length; i++) {
                    if (A[i] < A[i-dis]) {
                         k = i - dis;
                         guard = A[i];
                         while (k >= 0 && A[k] > guard) {
                              A[k+dis] = A[k];
                              k -= dis;
                         }
                         A[k+dis] = guard;
                    }
               }
          }
     }


     public static void main(String[] args) {
          long begin = System.currentTimeMillis();
          int[] A = new int[]{230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024,
                                   230, 1, 122, 6, 2, 55, 22, 66, 33, 5, 9, 65, 79, 90, 0, 101, 120, 4, 66, 88, 9999, 333, 55, 270, 520, 51, 1993, 888, 100, 1024};
          ShellSort.sort(A);

          for (int i = 0; i < A.length; i++) {
               System.out.println(A[i]);
          }
          long end = System.currentTimeMillis();
          System.out.println(end - begin);
     }
}
